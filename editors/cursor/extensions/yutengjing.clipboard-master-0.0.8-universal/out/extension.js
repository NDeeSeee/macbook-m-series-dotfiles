"use strict";var J=Object.create;var v=Object.defineProperty;var K=Object.getOwnPropertyDescriptor;var U=Object.getOwnPropertyNames;var X=Object.getPrototypeOf,Z=Object.prototype.hasOwnProperty;var f=(t,e)=>()=>(t&&(e=t(t=0)),e);var b=(t,e)=>{for(var n in e)v(t,n,{get:e[n],enumerable:!0})},z=(t,e,n,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of U(e))!Z.call(t,i)&&i!==n&&v(t,i,{get:()=>e[i],enumerable:!(o=K(e,i))||o.enumerable});return t};var g=(t,e,n)=>(n=t!=null?J(X(t)):{},z(e||!t||!t.__esModule?v(n,"default",{value:t,enumerable:!0}):n,t)),tt=t=>z(v({},"__esModule",{value:!0}),t);function y(t){return t.eol===B.default.EndOfLine.LF?`
`:`\r
`}function M(t,e){return t.split(e).some(n=>n.startsWith("	"))?"	":" "}var B,w=f(()=>{"use strict";B=g(require("vscode"))});var O={};b(O,{multiCopyCommands:()=>p});function E(t,e=!1){let{document:n,selection:o}=t,i=n.getText(new r.Range(o.start,o.end));if(i.length===0){let c=y(n);i=n.lineAt(o.start.line).text+c}return e?(d.length===0&&d.push(""),d[0]+=i):i.trim().length>0&&!d.includes(i)&&(d.unshift(i),d.length>x.bufferSize&&(d=d.slice(0,x.bufferSize))),T=0,i}async function W(t,e){await t.edit(i=>{for(let c of t.selections)i.replace(c,e)});let n=t.selections,o=n[0];t.selections=[o],await r.default.commands.executeCommand("editor.action.clipboardCopyAction"),t.selections=n,x.formatAfterPaste&&await r.default.commands.executeCommand("editor.action.formatSelection"),P=new r.Range(t.selection.start,t.selection.end)}var r,d,T,P,p,_=f(()=>{"use strict";r=g(require("vscode"));A();w();d=[],T=0;p=[];p.push(r.default.commands.registerCommand("clipboardMaster.clearBuffer",()=>{d=[],T=0}));p.push(r.default.commands.registerTextEditorCommand("clipboardMaster.copyMerge",t=>(E(t,!0),r.default.commands.executeCommand("editor.action.clipboardCopyAction"))));p.push(r.default.commands.registerTextEditorCommand("clipboardMaster.copy",t=>(E(t),r.default.commands.executeCommand("editor.action.clipboardCopyAction"))));p.push(r.default.commands.registerTextEditorCommand("clipboardMaster.cutMerge",t=>(E(t,!0),r.default.commands.executeCommand("editor.action.clipboardCutAction"))));p.push(r.default.commands.registerTextEditorCommand("clipboardMaster.cut",t=>(E(t),r.default.commands.executeCommand("editor.action.clipboardCutAction"))));p.push(r.default.commands.registerTextEditorCommand("clipboardMaster.paste",t=>{if(d.length===0){r.window.setStatusBarMessage("Clipboard Master: Nothing to paste",3e3);return}let e=new r.Range(t.selection.start,t.selection.end);return P&&e.isEqual(P)&&(T=++T<d.length?T:0),W(t,d[T])}));p.push(r.default.commands.registerTextEditorCommand("clipboardMaster.regularPaste",async()=>r.default.commands.executeCommand("editor.action.clipboardPasteAction")));p.push(r.default.commands.registerCommand("clipboardMaster.list",async t=>{if(d.length===0){r.window.setStatusBarMessage("Clipboard Master: Nothing to paste",3e3);return}let e=[];for(let[o,i]of d.entries())e.push({label:(o+1).toString(),description:i});let n=await r.window.showQuickPick(e,{canPickMany:!0});if(n?.length)return W(t,n.reverse().map(o=>o.description).join(""))}))});var k,I,et,x,A=f(()=>{"use strict";k=g(require("vscode")),I=class{enableMultiCopy=!0;bufferSize=10;formatAfterPaste=!1;initializedMultiCopy=!1;async update(e){let n=k.default.workspace.getConfiguration("clipboardMaster");this.enableMultiCopy=n.get("enableMultiCopy");let o=this.enableMultiCopy;if(!this.initializedMultiCopy&&this.enableMultiCopy){let{multiCopyCommands:i}=await Promise.resolve().then(()=>(_(),O));e.subscriptions.push(...i),k.default.commands.executeCommand("setContext","clipboardMaster.enableMultiCopy",!0),this.initializedMultiCopy=!0}o&&!this.enableMultiCopy&&k.default.commands.executeCommand("setContext","clipboardMaster.enableMultiCopy",!1),this.bufferSize=n.get("bufferSize"),this.formatAfterPaste=n.get("formatAfterPaste")}},et=new I,x=et});var D={};b(D,{copyWithLineNumber:()=>ot});function ot(t){let{document:e,selection:n}=t,o=e.getText(n),i=n.start.line+1,c=n.end.line+1,s=String(c).length,a=e.eol===1?`
`:`\r
`,l=o.split(a).map((m,u)=>`${String(i+u).padStart(s," ")} ${m}`).join(a);R.default.env.clipboard.writeText(l)}var R,Q=f(()=>{"use strict";R=g(require("vscode"))});var V={};b(V,{copyTextWithoutSyntax:()=>nt});async function nt(t){if(t.selections.length===1){let{document:e,selection:n}=t;if(!e)return;let o=e.getText(n);if(!o)return;await S.default.env.clipboard.writeText(o)}else S.default.commands.executeCommand("editor.action.clipboardCopyAction")}var S,$=f(()=>{"use strict";S=g(require("vscode"))});var q={};b(q,{getIndentCorrectText:()=>L,smartCopy:()=>it});function L(t,e,n,o){let i=t.split(o),c=Number.POSITIVE_INFINITY;for(let[a,l]of i.entries()){let m=l.trim();if(m.length===0)continue;let u=l.length-m.length;a===0&&(u+=e.character),c=Math.min(u,c)}let s=[];for(let[a,l]of i.entries()){let m=l;a===0&&e.character!==0&&(m=n.repeat(e.character)+m),s.push(m.slice(c))}for(let a=0;a<s.length&&s[a].trim().length===0;a++)s.shift();for(let a=s.length-1;a>=0&&s[a].trim().length===0;a--)s.pop();return s.join(o)}async function it(t){let{document:e,selections:n}=t,o=y(e),i=M(e.getText(new h.Range(new h.Position(0,0),new h.Position(50,120))),o),c=[];for(let s of n){let a=L(e.getText(s),s.start,i,o);a&&c.push(a)}await h.default.env.clipboard.writeText(c.join(o))}var h,j=f(()=>{"use strict";h=g(require("vscode"));w()});var rt,F,G=f(()=>{"use strict";rt=["abap","bat","bibtex","clojure","coffeescript","c","cpp","csharp","css","diff","dockerfile","editorconfig","fsharp","git-commit","git-rebase","go","groovy","handlebars","html","ini","java","javascript","json","jsonc","latex","less","lua","makefile","markdown","objective-c","objective-cpp","perl","perl6","php","plaintext","powershell","jade","python","r","razor","ruby","rust","scss","sass","shaderlab","shellscript","sql","swift","typescript","tex","vb","vue","xml","xsl","yaml"],F=new Map(rt.map(t=>[t,t]).concat([["javascriptreact","javascript"],["typescriptreact","typescript"]]))});var Y={};b(Y,{copyAsMarkdownCodeBlock:()=>st});async function st(t){let{document:e,selections:n}=t,o=y(e),i=M(e.getText(new C.Range(new C.Position(0,0),new C.Position(50,120))),o),c=[];for(let s of n){let a=e.getText(s),l=L(a,s.start,i,o),u="```"+(F.get(e.languageId)??"")+o+l+o+"```"+o;u&&c.push(u)}await C.default.env.clipboard.writeText(c.join(o))}var C,H=f(()=>{"use strict";C=g(require("vscode"));G();w();j()});var ct={};b(ct,{activate:()=>at});module.exports=tt(ct);var N=g(require("vscode"));A();async function at(t){let{commands:e}=N.default;x.update(t),N.default.workspace.onDidChangeConfiguration(o=>{o.affectsConfiguration("clipboardMaster")&&x.update(t)},null,t.subscriptions);let n=(o,i,c)=>{let s=e.registerTextEditorCommand(`clipboardMaster.${o}`,i,c);return t.subscriptions.push(s),s};n("copyWithLineNumber",o=>Promise.resolve().then(()=>(Q(),D)).then(i=>i.copyWithLineNumber(o))),n("copyTextWithoutSyntax",o=>Promise.resolve().then(()=>($(),V)).then(i=>i.copyTextWithoutSyntax(o))),n("smartCopy",o=>Promise.resolve().then(()=>(j(),q)).then(i=>i.smartCopy(o))),n("copyAsMarkdownCodeBlock",o=>Promise.resolve().then(()=>(H(),Y)).then(i=>i.copyAsMarkdownCodeBlock(o)))}0&&(module.exports={activate});
